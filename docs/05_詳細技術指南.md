# Wevro è¡Œå‹•æ‡‰ç”¨æŠ€è¡“è¨­ç½®æŒ‡å—

> å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡ä¸Šæ¶ Android/iOS æ‡‰ç”¨ï¼Œé€™ä»½æ–‡æª”æä¾›å®Œæ•´çš„æŠ€è¡“ç´°ç¯€ã€‚
> å¦‚æœå·²ç¶“ç†Ÿæ‚‰ï¼Œç›´æ¥çœ‹ `01_ä¸Šæ¶æ­¥é©ŸæŒ‡å—.md` å³å¯ã€‚

## ç›®éŒ„
1. [é–‹ç™¼ç’°å¢ƒè¨­ç½®](#é–‹ç™¼ç’°å¢ƒè¨­ç½®)
2. [Android ç°½åå’Œæ‰“åŒ…](#android-ç°½åå’Œæ‰“åŒ…)
3. [iOS è¨­ç½®](#ios-è¨­ç½®)
4. [å¸¸è¦‹å•é¡Œ](#å¸¸è¦‹å•é¡Œ)

---

## é–‹ç™¼ç’°å¢ƒè¨­ç½®

### Android é–‹ç™¼ç’°å¢ƒ

#### å¿…è¦è»Ÿé«”
1. **Android Studio** (æœ€æ–°ç©©å®šç‰ˆ)
   - ä¸‹è¼‰ï¼šhttps://developer.android.com/studio
   - å®‰è£æ™‚ç¢ºä¿é¸æ“‡ "Android Virtual Device"

2. **Java Development Kit (JDK) 17**
   - ä¸‹è¼‰ï¼šhttps://www.oracle.com/java/technologies/downloads/

#### ç’°å¢ƒè®Šæ•¸è¨­å®š (Windows)
```batch
ANDROID_HOME=C:\Users\ä½ çš„ç”¨æˆ¶å\AppData\Local\Android\Sdk
JAVA_HOME=C:\Program Files\Java\jdk-17
```

å°‡ä»¥ä¸‹è·¯å¾‘åŠ å…¥ PATHï¼š
```
%ANDROID_HOME%\platform-tools
%ANDROID_HOME%\tools
%JAVA_HOME%\bin
```

### iOS é–‹ç™¼ç’°å¢ƒï¼ˆåƒ…é™ Macï¼‰

#### å¿…è¦è»Ÿé«”
1. **Xcode** (æœ€æ–°ç©©å®šç‰ˆ)
   - å¾ Mac App Store ä¸‹è¼‰
   - å®‰è£å¾ŒåŸ·è¡Œä¸€æ¬¡ä»¥æ¥å—æˆæ¬Šæ¢æ¬¾

2. **CocoaPods**
   ```bash
   sudo gem install cocoapods
   ```

3. **Xcode Command Line Tools**
   ```bash
   xcode-select --install
   ```

---

## Android ç°½åå’Œæ‰“åŒ…

### æ­¥é©Ÿ 1ï¼šç”Ÿæˆç°½åé‡‘é‘°

```bash
cd android

# ç”Ÿæˆ keystoreï¼ˆæœ‰æ•ˆæœŸ 10 å¹´ï¼‰
keytool -genkey -v -keystore wevro-release.keystore -alias wevro -keyalg RSA -keysize 2048 -validity 10000
```

**æœƒè©¢å•çš„è³‡è¨Šï¼š**
- å¯†ç¢¼ï¼ˆè‡³å°‘ 6 å­—å…ƒï¼‰
- å§“å
- çµ„ç¹”å–®ä½
- çµ„ç¹”åç¨±
- åŸå¸‚
- çœä»½
- åœ‹å®¶ä»£ç¢¼ï¼ˆTWï¼‰

**âš ï¸ é‡è¦ï¼š** 
- è¨˜ä¸‹æ‰€æœ‰è³‡è¨Šï¼
- å‚™ä»½ `wevro-release.keystore` åˆ°å¤šå€‹å®‰å…¨ä½ç½®
- éºå¤±å°‡æ°¸é ç„¡æ³•æ›´æ–°æ‡‰ç”¨

### æ­¥é©Ÿ 2ï¼šé…ç½®ç°½å

å‰µå»º `android/key.properties`ï¼š
```properties
storePassword=ä½ çš„å¯†ç¢¼
keyPassword=ä½ çš„å¯†ç¢¼
keyAlias=wevro
storeFile=../wevro-release.keystore
```

### æ­¥é©Ÿ 3ï¼šæ›´æ–° build.gradle

ç·¨è¼¯ `android/app/build.gradle`ï¼Œåœ¨æª”æ¡ˆæœ€ä¸Šæ–¹ï¼ˆ`apply plugin` ä¹‹å‰ï¼‰æ·»åŠ ï¼š

```gradle
def keystoreProperties = new Properties()
def keystorePropertiesFile = rootProject.file('key.properties')
if (keystorePropertiesFile.exists()) {
    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))
}
```

ç„¶å¾Œåœ¨ `android` å€å¡Šå…§æ·»åŠ  `signingConfigs`ï¼š

```gradle
android {
    namespace "com.wevro.app"
    compileSdk rootProject.ext.compileSdkVersion
    
    // æ·»åŠ ç°½åé…ç½®
    signingConfigs {
        release {
            keyAlias keystoreProperties['keyAlias']
            keyPassword keystoreProperties['keyPassword']
            storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null
            storePassword keystoreProperties['storePassword']
        }
    }
    
    defaultConfig {
        applicationId "com.wevro.app"
        minSdkVersion rootProject.ext.minSdkVersion
        targetSdkVersion rootProject.ext.targetSdkVersion
        versionCode 1
        versionName "1.0"
        // ... å…¶ä»–é…ç½®
    }
    
    buildTypes {
        release {
            signingConfig signingConfigs.release
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
}
```

### æ­¥é©Ÿ 4ï¼šæ§‹å»º Release ç‰ˆæœ¬

```bash
cd android
./gradlew clean
./gradlew bundleRelease

# æˆåŠŸå¾Œæª”æ¡ˆä½ç½®ï¼š
# android/app/build/outputs/bundle/release/app-release.aab
```

**æª¢æŸ¥ï¼š**
- çœ‹åˆ° "BUILD SUCCESSFUL" è¨Šæ¯
- AAB æª”æ¡ˆå­˜åœ¨
- æª”æ¡ˆå¤§å°ç´„ 10-30 MB

---

## iOS è¨­ç½®ï¼ˆåƒ…é™ Macï¼‰

### å‰ç½®éœ€æ±‚
- Mac é›»è…¦
- Xcodeå·²å®‰è£
- Apple Developer Account ($99/å¹´)

### æ­¥é©Ÿ 1ï¼šåœ¨ Xcode ä¸­é…ç½®

```bash
cd ios/App
open App.xcworkspace
```

åœ¨ Xcode ä¸­ï¼š
1. é¸æ“‡å°ˆæ¡ˆ > Signing & Capabilities
2. é¸æ“‡ä½ çš„åœ˜éšŠï¼ˆTeamï¼‰
3. Bundle Identifierï¼š`com.wevro.app`
4. å‹¾é¸ "Automatically manage signing"

### æ­¥é©Ÿ 2ï¼šå‰µå»º Archive

1. Product > Archive
2. ç­‰å¾…å»ºæ§‹å®Œæˆï¼ˆ5-10 åˆ†é˜ï¼‰
3. åœ¨ Organizer ä¸­é¸æ“‡ Archive
4. é»æ“Š "Distribute App"
5. é¸æ“‡ "App Store Connect"
6. ä¸Šå‚³

---

## å¸¸è¦‹å•é¡Œ

### Q: Gradle åŒæ­¥å¤±æ•—
```bash
cd android
./gradlew clean
./gradlew build
```

### Q: æ‰¾ä¸åˆ° JDK
ç¢ºèª `JAVA_HOME` ç’°å¢ƒè®Šæ•¸å·²è¨­å®š

### Q: Android Studio ç„¡æ³•è­˜åˆ¥è£ç½®
ç¢ºèªï¼š
1. æ‰‹æ©Ÿå·²å•Ÿç”¨ USB åµéŒ¯
2. å·²å®‰è£æ‰‹æ©Ÿé©…å‹•ç¨‹å¼
3. USB ç·šæ­£å¸¸

### Q: iOS Pod å®‰è£å¤±æ•—
```bash
cd ios/App
pod repo update
pod install
```

### Q: æ§‹å»ºå¾ˆæ…¢
ç¬¬ä¸€æ¬¡æ§‹å»ºæœƒä¸‹è¼‰å¾ˆå¤šä¾è³´ï¼Œç´„ 10-30 åˆ†é˜ã€‚
ä¹‹å¾Œå°±å¿«äº†ã€‚

---

## æœ‰ç”¨çš„å‘½ä»¤

```bash
# æ§‹å»ºå‰ç«¯
npm run build:mobile

# åŒæ­¥åˆ°åŸç”Ÿå¹³å°
npm run cap:sync

# é–‹å•Ÿ Android Studio
npm run cap:android

# é–‹å•Ÿ Xcode (Mac)
npm run cap:ios

# æ›´æ–° Capacitor
npm run cap:update

# æ¸…ç†æ§‹å»º
cd android && ./gradlew clean

# æª¢æŸ¥ Java ç‰ˆæœ¬
java -version

# æª¢æŸ¥ Android SDK
echo %ANDROID_HOME%
```

---

**é‡åˆ°å•é¡Œï¼ŸæŸ¥çœ‹ `04_ä¸Šæ¶æª¢æŸ¥æ¸…å–®.md` æˆ–ç›´æ¥å•æˆ‘ï¼** ğŸ’ª

